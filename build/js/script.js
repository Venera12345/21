var t,e,a,n,o,r,s,i,c,l,d,m,u,w,p,f,g,y,h,b,q,S,v,C,k,D,G;function L(e){e.classList.add("show")}function T(e){e.classList.remove("show")}function x(t,a,n,o){var e=a[o].place.querySelectorAll(".item-card");return[].forEach.call(e,function(e){return window.card.openCard(e,n[t],a[o]),++t}),0<a[o].transform?a[o].transform+=25:a[o].transform-=25,setTimeout(function(){S(a,n,t,o)},1e3),t}function E(t,a,n,o){setTimeout(function(){console.log(t[o]),window.deck.dealCard(t[o]);var e=t[o].place.querySelectorAll(".item-card");return setTimeout(function(){return window.card.openCard(e[e.length-1],a[n],t[o]),n++},500),0<t.transform?t.transform+=25:t.transform-=25,setTimeout(function(){S(t,a,n,o)},1500),n},1e3)}a=document.querySelector(".btn-distribution"),n=document.querySelector(".btn-still"),o=document.querySelector(".btn-stop"),r=0,setTimeout(function(){return t=window.run},1e3),a.addEventListener("click",function(){return e=window.popup.amountGamer,window.deck.dealCard(window.gamerData.user),setTimeout(function(){window.deck.dealCard(window.gamerData.user),window.gamerData.user.currentTransform+=40},700),setTimeout(function(){var e=window.gamerData.user.place.querySelectorAll(".item-card");[].forEach.call(e,function(e){return window.card.openCard(e,t[r],window.gamerData.user),r++,a.disabled="disabled",r})},2200),window.deck.dealCardForGamer(window.gamerData.gamers[0]),2==e?window.deck.dealCardForGamer(window.gamerData.gamers[1]):3==e?(window.gamerData.gamers[0].bottom=60,window.gamerData.gamers[1].bottom=60,window.deck.dealCardForGamer(window.gamerData.gamers[1]),window.deck.dealCardForGamer(window.gamerData.gamers[2])):4==e&&(window.gamerData.gamers[0].bottom=60,window.gamerData.gamers[1].bottom=60,window.deck.dealCardForGamer(window.gamerData.gamers[1]),window.deck.dealCardForGamer(window.gamerData.gamers[2]),window.deck.dealCardForGamer(window.gamerData.gamers[3])),e}),n.addEventListener("click",function(){window.deck.dealCard(window.gamerData.user),window.gamerData.user.currentTransform+=40,setTimeout(function(){var e=window.gamerData.user.place.querySelectorAll(".item-card");return window.card.openCard(e[e.length-1],t[r],window.gamerData.user),++r},1e3)}),o.addEventListener("click",function(){n.disabled="disabled",o.disabled="disabled",window.dealGamer.openCardGemer(r,window.gamerData.gamers,t,0)}),i=document.querySelector(".wellcom"),c=document.querySelector(".name-main-user"),l=document.querySelector(".amount-users"),d=document.querySelector(".begin"),m=document.querySelector(".name-btn"),u=document.querySelector(".input-btn"),w=document.querySelector(".text-name-js"),p=document.querySelector(".gamers-btn"),f=document.querySelector(".amount"),g=document.querySelectorAll(".item-player"),y=document.querySelector(".user-name"),h=document.querySelector(".user .list-player-cards"),L(i),d.addEventListener("click",function(){T(i),L(c)}),m.addEventListener("click",function(){u.value,w.textContent=u.value,y.textContent=u.value,T(c),L(l)}),p.addEventListener("click",function(){s=f.value,[].forEach.call(g,function(e,t){t+1<=s&&(e.classList.remove("hidden"),2<s&&(h.style.height="217px")),T(l)}),window.popup={amountGamer:s}}),b=document.querySelector("#card").content.querySelector(".item-card"),q=document.createDocumentFragment(),window.deck={dealCard:function(e){var t=b.cloneNode(!0);t.classList.add(e.animation),q.appendChild(t),t.style.left=e.left+"%",t.style.bottom=e.bottom+"%";var a=e.place.querySelector(".item-player-card");a?a.parentNode.removeChild(a):t.style.transform="translateX("+e.transform+"%)",e.place.appendChild(q)},dealCardForGamer:function(e){setTimeout(function(){window.deck.dealCard(e),setTimeout(function(){window.deck.dealCard(e)},500)},e.time)}},window.cardsData=[{class:"six-b",point:6},{class:"seven-b",point:7},{class:"eight-b",point:8},{class:"nine-b",point:9},{class:"ten-b",point:10},{class:"jb",point:2},{class:"lb",point:3},{class:"kb",point:4},{class:"ab",point:11},{class:"six-t",point:6},{class:"seven-t",point:7},{class:"eight-t",point:8},{class:"nine-t",point:9},{class:"ten-t",point:10},{class:"jt",point:2},{class:"lt",point:3},{class:"kt",point:4},{class:"at",point:11},{class:"six-p",point:6},{class:"seven-p",point:7},{class:"eight-p",point:8},{class:"nine-p",point:9},{class:"ten-p",point:10},{class:"jp",point:2},{class:"lp",point:3},{class:"kp",point:4},{class:"ap",point:11},{class:"six-h",point:6},{class:"seven-h",point:7},{class:"eight-h",point:8},{class:"nine-h",point:9},{class:"ten-h",point:10},{class:"jh",point:2},{class:"lh",point:3},{class:"kh",point:4},{class:"ah",point:11}],window.shuffle=function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e},window.run=window.shuffle([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]),S=function(e,t,a,n){var o,r,s=(o=0,r=100,o=Math.ceil(o),r=Math.floor(r),Math.floor(Math.random()*(r-o+1))+o),i=window.popup.amountGamer;console.log(e[n].sum),e[n].sum<=10?E(e,t,a,n):10<e[n].sum&&e[n].sum<=14&&s<=98?E(e,t,a,n):14<e[n].sum&&e[n].sum<=17&&s<=78?E(e,t,a,n):17<e[n].sum&&e[n].sum<=19&&s<=30?E(e,t,a):19<e[n].sum&&s<=3?E(e,t,a,n):21===e[n].sum?(console.log("finish"),console.log(n+"amount"+i),n!==i-1&&v(e,a,t,i,n+1)):21<e[n].sum?(console.log("finish"),console.log(n+"amount"+i),n!==i-1&&v(e,a,t,i,n+1)):n!==i-1&&(console.log(n+"amount"+i),v(e,a,t,i,n+1))},v=function(e,t,a,n,o){1<n&&x(t+=1,e,a,o)},window.dealGamer={openCardGemer:x,setOfPoints:E,checkPoint:S},C=document.querySelector(".cogratulation"),k=document.querySelector(".game-over"),window.card={openCard:function(e,t,a){var n=window.cardsData[t];e.classList.add("rotate"),setTimeout(function(){e.classList.add(n.class),function(e,t){t.sum+=e,console.log(t.sum),t.sum}(n.point,a),"animation"===a.animation&&window.card.chackPointsUser(a),a.span.textContent=a.sum},500)},chackPointsUser:function(e){21===e.sum?C.classList.add("show"):21<e.sum&&k.classList.add("show")}},D={place:document.querySelector(".list-player-cards.main-user"),animation:"animation",left:30,bottom:0,span:document.querySelector(".user-points"),sum:0,transform:40},G=[{place:document.querySelector(".list-player-cards.gamer.first"),animation:"animation-l-t",left:0,bottom:0,span:document.querySelector(".player-points.first"),sum:0,transform:25,time:3e3},{place:document.querySelector(".list-player-cards.gamer.second"),animation:"animation-r-t",left:88,bottom:0,span:document.querySelector(".player-points.second"),sum:0,transform:-25,time:4e3},{place:document.querySelector(".list-player-cards.gamer.third"),animation:"animation-l-b",left:0,bottom:0,span:document.querySelector(".player-points.third"),sum:0,transform:25,time:5e3},{place:document.querySelector(".list-player-cards.gamer.fourth"),animation:"animation-r-b",left:88,bottom:0,span:document.querySelector(".player-points.fourth"),sum:0,transform:-25,time:6e3}],window.gamerData={user:D,gamers:G};