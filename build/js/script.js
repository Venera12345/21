function e(e){e.classList.add("show")}function n(e){e.classList.remove("show")}var a,t,o,r,i,s,c,l,d,u,m,p,w,f,h,y,b,g,q,S,v,G,k;function C(e,t,n,a){var o,r,i=(o=0,r=100,o=Math.ceil(o),r=Math.floor(r),Math.floor(Math.random()*(r-o+1))+o);if(e.sum<=10)y(e,t,n,a);else if(10<e.sum&&e.sum<=14&&i<=98)y(e,t,n,a);else if(14<e.sum&&e.sum<=17&&i<=70)y(e,t,n,a);else if(17<e.sum&&e.sum<=19&&i<=30)y(e,t,n,a);else{if(!(19<e.sum&&i<=3))return 21===e.sum||e.sum,console.log("finish");y(e,t,n,a)}}!function(){var t,n,a=document.querySelector(".btn-distribution"),e=document.querySelector(".btn-still"),o=document.querySelector(".btn-stop"),r=0,i=40,s=-25;setTimeout(function(){return t=window.run},1e3);function c(e,t,n){setTimeout(function(){window.deck.dealCard(e,t),setTimeout(function(){window.deck.dealCard(e,t)},500)},n)}a.addEventListener("click",function(){n=window.popup.amountGamer,window.deck.dealCard(window.gamerData.user,i),setTimeout(function(){window.deck.dealCard(window.gamerData.user,i),i+=40},700),setTimeout(function(){var e=window.gamerData.user.place.querySelectorAll(".item-card");[].forEach.call(e,function(e){return window.card.openCard(e,t[r],window.gamerData.user),r++,a.disabled="disabled",r})},2200);var e=4e3;return 2==n?c(window.gamerData.secondGamer,s,e):3==n?(firstGamer.bottom=60,secondGamer.bottom=60,c(window.gamerData.secondGamer,s,e),c(window.gamerData.thirdGamer,25,5e3)):4==n&&(firstGamer.bottom=60,secondGamer.bottom=60,c(window.gamerData.secondGamer,s,e),c(window.gamerData.thirdGamer,25,5e3),c(window.gamerData.fourthGamer,s,6e3)),c(window.gamerData.firstGamer,25,3e3),n}),e.addEventListener("click",function(){window.deck.dealCard(window.gamerData.user,i),i+=40,setTimeout(function(){var e=window.gamerData.user.place.querySelectorAll(".item-card");return window.card.openCard(e[e.length-1],t[r],window.gamerData.user),++r},1e3)}),o.addEventListener("click",function(){e.disabled="disabled",o.disabled="disabled",window.dealGamer.openCardGemer(r,window.gamerData.firstGamer,t,25)})}(),t=document.querySelector(".wellcom"),o=document.querySelector(".name-main-user"),r=document.querySelector(".amount-users"),i=document.querySelector(".begin"),s=document.querySelector(".name-btn"),c=document.querySelector(".input-btn"),l=document.querySelector(".text-name-js"),d=document.querySelector(".gamers-btn"),u=document.querySelector(".amount"),m=document.querySelectorAll(".item-player"),p=document.querySelector(".user-name"),w=document.querySelector(".user .list-player-cards"),e(t),i.addEventListener("click",function(){n(t),e(o)}),s.addEventListener("click",function(){c.value,l.textContent=c.value,p.textContent=c.value,n(o),e(r)}),d.addEventListener("click",function(){a=u.value,[].forEach.call(m,function(e,t){t+1<=a&&(e.classList.remove("hidden"),2<a&&(w.style.height="217px")),n(r)}),window.popup={amountGamer:a}}),f=document.querySelector("#card").content.querySelector(".item-card"),h=document.createDocumentFragment(),window.deck={dealCard:function(e,t){var n=f.cloneNode(!0);n.classList.add(e.animation),h.appendChild(n),n.style.left=e.left+"%",n.style.bottom=e.bottom+"%",console.log(e);var a=e.place.querySelector(".item-player-card");a?a.parentNode.removeChild(a):n.style.transform="translateX("+t+"%)",e.place.appendChild(h)}},window.cardsData=[{class:"six-b",point:6},{class:"seven-b",point:7},{class:"eight-b",point:8},{class:"nine-b",point:9},{class:"ten-b",point:10},{class:"jb",point:2},{class:"lb",point:3},{class:"kb",point:4},{class:"ab",point:11},{class:"six-t",point:6},{class:"seven-t",point:7},{class:"eight-t",point:8},{class:"nine-t",point:9},{class:"ten-t",point:10},{class:"jt",point:2},{class:"lt",point:3},{class:"kt",point:4},{class:"at",point:11},{class:"six-p",point:6},{class:"seven-p",point:7},{class:"eight-p",point:8},{class:"nine-p",point:9},{class:"ten-p",point:10},{class:"jp",point:2},{class:"lp",point:3},{class:"kp",point:4},{class:"ap",point:11},{class:"six-h",point:6},{class:"seven-h",point:7},{class:"eight-h",point:8},{class:"nine-h",point:9},{class:"ten-h",point:10},{class:"jh",point:2},{class:"lh",point:3},{class:"kh",point:4},{class:"ah",point:11}],window.createRandomPhoto=function(e,t){for(var n=[];n.length<36;){for(var a=Math.floor(Math.random()*(t-e))+e,o=!1,r=1;r<n.length;r++)if(n[r]===a){o=!0;break}o||(n[n.length]=a)}return n},window.run=window.createRandomPhoto(1,36),y=function(t,n,a,o){setTimeout(function(){window.deck.dealCard(t,n);var e=t.place.querySelectorAll(".item-card");return setTimeout(function(){return window.card.openCard(e[e.length-1],a[o],t),o++},500),setTimeout(function(){C(t,n+25,a,o)},1500),n},1e3)},window.dealGamer={openCardGemer:function(t,n,a,e){var o=n.place.querySelectorAll(".item-card");return[].forEach.call(o,function(e){return window.card.openCard(e,a[t],n),++t}),setTimeout(function(){C(n,e+25,a,t)},1e3),t},setOfPoints:y,checkPoint:C},b=document.querySelector(".cogratulation"),g=document.querySelector(".game-over"),window.card={openCard:function(e,t,n){var a=window.cardsData[t];e.classList.add("rotate"),setTimeout(function(){e.classList.add(a.class),function(e,t){t.sum+=e}(a.point,n),"animation"===n.animation&&window.card.chackPointsUser(n),n.span.textContent=n.sum},500)},chackPointsUser:function(e){21===e.sum?b.classList.add("show"):21<e.sum&&g.classList.add("show")}},q={place:document.querySelector(".list-player-cards.main-user"),animation:"animation",left:30,bottom:0,span:document.querySelector(".user-points"),sum:0},S={place:document.querySelector(".list-player-cards.gamer.first"),animation:"animation-l-t",left:0,bottom:0,span:document.querySelector(".player-points.first"),sum:0},v={place:document.querySelector(".list-player-cards.gamer.second"),animation:"animation-r-t",left:88,bottom:0,span:document.querySelector(".player-points.second"),sum:0},G={place:document.querySelector(".list-player-cards.gamer.third"),animation:"animation-l-b",left:0,bottom:0,span:document.querySelector(".player-points.third"),sum:0},k={place:document.querySelector(".list-player-cards.gamer.fourth"),animation:"animation-r-b",left:88,bottom:0,span:document.querySelector(".player-points.fourth"),sum:0},window.gamerData={user:q,firstGamer:S,secondGamer:v,thirdGamer:G,fourthGamer:k};